# 참조에 의한 전달과 외부 상태의 변경
- 원시 값은 값에 의한 전달, 객체는 참조에 의한 전달 방식으로 동작한다
- 매개변수도 함수 몸체 내부에서 변수와 동일하게 취급되므로 값에 의한 전달, 참조에 의한 전달 방식을 그대로 따른다
```typescript jsx
function changeVal(primitive, obj) {
	primitive += 100
  obj.name = 'Kim'
}

var num = 100;
var person = {name : 'Lee'}

console.log(num) // 100
console.log(person) // {name: "Lee"}

changeVal(num, person) 

console.log(num) // 100
console.log(person) // {name: "Kim"}
```
- primitive 는 원시 타입이 변경 불가능한 값이라 직접 변경할 수 없으므로 재할당을 통해 원시 값을 교체하고
- obj 는 객체가 변경 가능한 값이라 재할당 없이 직접 할당된 객체를 변경한다
- 원시타입 인수는 값 자체가 복사되어 매개변수에 전달되므로 함수 몸체에서 그 값을 변경해도 원본은 훼손되지 않는다
  - 즉, 부수효과를 발생시키지 않는다
- 객체 타입의 경우 함수 몸체에서 참조값을 통해 객체를 변경할 경우 원본이 훼손된다
  - 즉, 부수효과를 발생시킨다
- 함수가 외부 상태를 변경하면 상태를 추적하기 어려워진다
### 부수효과 발생 대비책
- 옵저버 패턴 사용하기
  - 객체를 참조를 공유하는 모두에게 변경 사실을 통지하고 이에 대처할 줄 알아야 한다
- 객체를 불변 객체로 만들기
  - 객체의 복사본을 새롭게 생성하는 추가 비용이 발생
  - 하지만 객체를 원시값처럼 변경 불가능하게 동작하도록 만들 수는 있다
    1. 객체의 상태 변경을 원천 봉쇄하고
    2. 상태 변경이 필요하면 객체를 깊은 복사해 새로운 객체를 생성하고
    3. 재할당을 함으로써 교체를 한다
### 순수함수
- 외부 상태를 변경하지 않고
- 외부 상태에 의존하지 않는 함수
- 순수함수를 통해 프로그램의 안정성을 높이려고 하는 패러다임이 함수형 프로그램밍이다
