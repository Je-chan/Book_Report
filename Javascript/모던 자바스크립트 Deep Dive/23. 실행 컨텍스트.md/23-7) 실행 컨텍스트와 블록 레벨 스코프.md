# 실행 컨텍스트와 블록 레벨 스코프

- let, const 키워드로 선언한 변수는 블록 레벨 스코프를 따른다

```jsx
let x = 1;

if (true) {
  let x = 10;
  console.log(x); // 10
}

console.log(x); // 1
```

- if 문의 코드 블록 내에서 let 키워드로 변수가 선언
- if 문의 코드 블록이 실행되면 if 문의 코드 블록을 위한 블록 레벨 스코프를 생성해야 함
  - 이를 위해서는 렉시컬 환경을 새롭게 생성해 전역 렉시컬 환경을 교체해야 함
  - if문의 코드 블록을 위한 렉시컬 환경의 외부 렉시컬 환경에 대한 참조는 if 문이 실행되기 이전의 전역 렉시컬 환경을 가리킴
  - 이후, if 문 코드 블록 실행이 종료되면 if 문의 코드 블록이 실행되기 이전의 렉시컬 환경으로 되돌린다.
- for 문도 마찬가지로, 반복해서 실행할 때마다 코드 블록을 위한 새로운 렉시컬 환경을 생성한다
  - 그리고 블록 내에서 정의된 함수가 있다면 이 함수의 상위 스코프는 for 문의 코드 블록이 생성한 렉시컬 환ㄱ경이 된다
