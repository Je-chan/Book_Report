# 변수의 생명 주기
## 1) 지역 변수의 생명 주기
- 변수는 생성되고 소멸되는 생명 주기가 있다.
  - 변수의 생명 주기는 메모리 공간이 확보된 시점부터 멤모리 공간이 해제되어 가용 메모리 풀에 반환되는 시점까지다
- 전역 변수의 생명 주기는 애플리케이션의 생명 주기와 같다
- 함수 내부에서 선언된 지역 변수의 경우, 함수가 호출되면 생성되고 함수가 종료하면 소멸한다

```typescript jsx
function foo() {
	var x = 'local'
  console.log(x) // local
  return x
}

foo();

console.log(x) // ReferenceError: x is not defined
```
- 변수 선언은 코드가 한 줄씩 순차적으로 실행되는 런타임 이전 단계에서 자바스크립트 엔진에 의해 먼저 실행된다
- 그러나 엄밀히 말하자면, 이것은 전역 변수에 한정된 것이다
- 함수 내부에서 선언한 변수는 함수가 호출된 직후, 코드가 한 줄식 순차적으로 진행되기 이전에 자바스크립트 엔진에 의해 먼저 실행된다
  - foo 함수 호출
  - x 변수의 선언문이 자바스크립트 엔진에 의해 가장 먼저 실행 : x 변수 선언 & undefined 로 초기화
  - 함수 몸체를 구성하는 문들이 순차적으로 실행
  - 변수 할당물 실행시 x 변수에 값이 할당
  - 함수 종료하면 x 변수 소멸 : 생명주기 종료
- 지역 변수의 생명 주기는 함수의 생명주기와 일치한다
  - 이는, 변수가 자신이 등록된 스코프가 소멸될 때까지 유효하다는 의미다

## 2) 전역 변수의 생명 주기
- 전역 코드는 명시적인 호출 없이 실행된다
- 함수 호출과 같은 진입점 없이 코드가 로드되면 곧바로 해석되고 실행된다
- 전역 코드에는 반환문이 없기 때문에 더 이상 실행할 문이 없을 때 종료한다
### 전역 객체
- 전역 객체는 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수한 객체다
  - 클라이언트 사이드 환경(브라우저)에서는 window 
  - 서버 사이드 환경에서는 global 
- 전역 객체는 
  - 표준 빌트인 객체(Object, String, Number, Function, Array...) 와
  - 호스트 객체(클라이언트 Web API, Node.js 호스트 API)와
  - var 키워드로 선언한 전역 변수와 전역 함수
  - 를 프로퍼티로 갖는다
- 즉, var 키워드로 선언한 전역 변수는 전역 객체의 프로퍼티가 된다
  - 전역 변수의 생명 주기가 전역 객체의 생명 주기와 일치하다는 의미다
